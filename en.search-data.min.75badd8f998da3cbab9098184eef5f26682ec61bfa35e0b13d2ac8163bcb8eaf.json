[{"id":0,"href":"/docs/","title":"My First Post","section":"VK Mini Apps","content":"ggggggggggggg\n"},{"id":1,"href":"/docs/posts/information/information/","title":"Информация","section":"Обзор","content":"\rИнформация\r#\rРаздел содержит информацию о мини-приложении, которую пользователь видит при запуске и которая необходима для публикации в каталоге. Заполните поля этого раздела, чтобы мини-приложение стало информативным и привлекательным для пользователей.\nЕсли эти поля не заполнять, мини-приложение не пройдёт модерацию и не будет опубликовано в каталоге.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Информация.\nИнформация\nБлок Информация содержит следующие обязательные поля:\n• Название\n• Категория\nНазвание\n• Название мини-приложения может содержать только буквы, цифры, дефисы, запятые и пробелы.\n• Максимальное количество символов — 34.\nОписание\nОписание мини-приложения отображается в разделе О приложении в мобильном приложении ВКонтакте.\nМаксимальное количество символов — 2000.\nКак найти:\nОткройте мобильное приложение ВКонтакте. Перейдите в раздел Сервисы. Выберите мини-приложение и нажмите кнопку •••. Нажмите кнопку О приложении. Краткое описание\nКраткое описание мини-приложения отображается в каталоге.\nМаксимальное количество символов — 128.\nКак найти:\n• Наведите курсор на название мини-приложения в каталоге.\n• В сниппете сервиса.\nОпубликовать в Одноклассниках\nЧтобы опубликовать мини-приложение в каталоге Одноклассников:\nУстановите флажок Опубликовать в Одноклассниках. Нажмите кнопку Получить ОК id. В окне Одноклассники: • Авторизуйтесь.\nЕсли к вашей учётной записи в Одноклассниках не привязан адрес электронной почты, привяжите его в личном кабинете. • Выберите Мной прочитаны и принимаются условия соглашения.\n• Нажмите кнопку Получить права разработчика. Поле ОК User ID заполнится автоматически.\nПодробнее о модерации мини-приложения в Одноклассниках читайте в официальной документации.\nКатегория\nВыберите категорию, чтобы при модерации мини-приложение было распределено в самый подходящий раздел. После модерации категория в блоке Информация может не совпадать с категорией, в которую попало мини-приложение.\nИконка\nИконка — это значок мини-приложения, который отображается на вкладке окна в браузере.\n• Размер файла не должен превышать 5 Мбайт.\n• Формат файла: JPG, PNG, GIF или BMP.\nЕсли изображение по размеру больше 32×32 px, оно будет сжато до этого размера.\nПользов. соглашение и Политика конфиденц.\nУкажите ссылки на пользовательское соглашение и политику конфиденциальности. Поля можно не заполнять, если эти документы есть внутри мини-приложения.\nКак найти:\nОткройте мобильное приложение ВКонтакте. Перейдите в раздел Сервисы. Выберите приложение и нажмите на его название. Нажмите кнопку •••. Нажмите кнопку О приложении. Перейдите к разделу Условия. Дополнительно\nАдрес приложения\nПримечание. Поле появляется только после публикации мини-приложения в каталоге.\nКороткий адрес мини-приложения.\nМинимальное количество символов — 5, максимальное — 32.\nИспользуйте короткий адрес мини-приложения, чтобы пользователи могли быстро его запомнить. Пример: https://vk.com/dating.\nApple Developer Team ID и Apple Developer Team Name\nБлок содержит информацию о мини-приложении, которое запускается на платформе iOS. Заполните поля, если вы являетесь участником Apple Developer Program.\nПоля требуется заполнить, чтобы запускать мини-приложение из ODR-архива на iOS-устройствах. Заполненное поле Apple Developer Team ID нельзя очистить.\nБез этой информации ваше мини-приложение не сможет попасть в каталог на платформе iOS.\nСообщество\nУкажите в поле сообщество, которое будет считаться автором мини-приложения. После модерации сменить официальное сообщество можно будет только через год.\nНазвание кнопки в сообществах\nНазвание отображается на кнопке в Меню сообщества.\nРазрешить установку в сообществах\nВыберите Разрешить установку в сообществах, чтобы добавить кнопку с мини-приложением и запускать его от имени сообщества.\nЗагрузка приложения\nПодробнее о функциональности загрузки приложения читайте на странице Экран запуска приложения.\nНастройки сниппета\nСниппет — это блок с картинкой и кнопкой, который появляется при публикации ссылки в записи сообщества или в личном сообщении.\nНазвание кнопки\nНазвание кнопки отображается при публикации ссылки на мини-приложение в записи сообщества или в личном сообщении.\nОбложка\nИзображение, которое отображается в сниппете при публикации ссылки на мини-приложение в записи сообщества.\n• Размер: 1120×630 px.\n• Формат: JPG или PNG.\nОбложки и скриншоты\nКвадратная обложка\nИзображение обложки используется в каталоге мобильной версии ВКонтакте, уведомлениях мини-приложения и настройках мини-приложений в сообществах.\n• Размер: 150×150 px.\n• Формат: JPG, PNG или GIF.\nКвадратная обложка для каталога\nИзображение, которое используется в сниппете при публикации ссылки на мини-приложение в личном сообщении, на ярлыке мини-приложения на мобильном устройстве, а также в каталоге мини-приложений.\nИзображение загружается автоматически, если загружена квадратная обложка.\nПараметры изображения:\n• Размер: 278×278 px.\n• Формат: JPG, PNG или GIF.\nМенять обложку можно не чаще 2 раз в 2 недели.\nИконка для мобильного каталога\nЦвет основы квадратной обложки для каталога выбирается автоматически на основе доминирующего цвета в обложке. Вы можете настроить его вручную. Ко всем цветам применяется эффект прозрачности в 12%.\nЦвет основы указывается для светлой и тёмной тем в виде HEX-кода.\nКвадратная обложка для раздела рекомендаций\nИзображение, которое используется в разделе рекомендаций.\n• Размер: 576×576 px.\n• Формат: JPG, PNG, GIF или BMP.\nСкриншоты приложения\nСкриншоты мини-приложения используются на экране установки, а также в разделе Скриншоты приложения в мобильном приложении ВКонтакте. Скриншоты нужно загружать по одному.\nПараметры скриншота:\n• Высота: не менее 600 пикселей.\n• Формат: JPG, PNG, GIF или BMP.\n• Отношение сторон не более 2 к 1.\nКак найти:\nОткройте мобильное приложение ВКонтакте. Перейдите в раздел Сервисы. Выберите приложение и нажмите на его название. Нажмите кнопку •••. Нажмите кнопку О приложении. Перейдите к разделу Скриншоты приложения. "},{"id":2,"href":"/docs/posts/moderation/moderation/","title":"Модерация","section":"Обзор","content":"\rМодерация\r#\rОтправьте заявку на модерацию, чтобы:\n• Опубликовать ваше мини-приложение в каталоге\n• Подключить в мини-приложении оплату голосами\n• Добавить тексты кнопки в профилях\n• Подключить бонусное использование VK Cloud\nСовет. Чтобы решить, нужно ли вам отправлять мини-приложение в каталог, посмотрите раздел с описанием преимуществ каталога, а также правилами и советами по прохождению модерации.\nЧтобы перейти в раздел, откройте Мои приложения ⟶ Редактировать ⟶ Модерация.\nЗаявка на модерацию\nЧтобы попасть в каталог мини-приложений:\nВ блоке Модерация нажмите кнопку Отправить заявку. Выберите Я ознакомился с рекомендациями. Нажмите кнопку Отправить на модерацию. Заполните заявку. 5.Нажмите кнопку Отправить. Команда модерации проверит ваше мини-приложение и поделится своими рекомендациями, а команда тестировщиков — протестирует и укажет на ошибки, если они найдутся. Исправьте найденные ошибки. Если вашу заявку одобрят, мини-приложение попадёт в каталог.\n• После создания заявки она будет доступна в разделе Помощь на вкладке Все вопросы.\n• Статус заявки будет доступен в разделе Модерация. Модерация в каталог занимает от 5 дней до нескольких недель.\nМодерация только для использования голосов\nЧтобы использовать оплату голосами в мини-приложении:\nВ блоке Модерация только для использования голосов нажмите кнопку Отправить заявку. Заполните заявку. Нажмите кнопку Отправить на проверку. • Модерация для использования голосов занимает от нескольких часов до 2 суток.\n• Принимать оплату голосами может и мини-приложение вне каталога. Вы можете подать заявку на подключение оплаты голосами до подачи заявки в каталог или во время прохождения модерации.\n• В случае отказа в подключении голосов причина отобразится в блоке История операций.\nКнопка в профилях\nЧтобы добавить кнопку в профилях:\nВ блоке Кнопка в профилях нажмите кнопку Отправить заявку. Заполните заявку. Нажмите кнопку Отправить на проверку. После отправки на проверку заявку можно будет просмотреть в разделе Помощь на вкладке Все вопросы.\nБонусное использование VK Cloud\nПримечание. Блок отображается, если одна из модераций: в каталог, для использования голосов или кнопки в профиле уже успешно пройдена.\nЧтобы получить бонусное использование VK Cloud:\nВ блоке Бонусное использование VK Cloud нажмите кнопку Отправить заявку. В открывшемся окне: • Введите идентификатор вашего проекта VK Cloud.\n• Нажмите кнопку Отправить заявку.\n"},{"id":3,"href":"/docs/posts/settings/settings/","title":"Настройки","section":"Обзор","content":"\rНастройки\r#\rРаздел Настройки понадобится вам уже на первых этапах разработки, так как содержит идентификатор мини-приложения.\nВКонтакте предоставляет возможность создавать отдельные версии мини-приложения для следующих платформ:\n• мобильное приложение (Android, iOS) • мобильная версия сайта (m.vk.com) • десктопная версия сайта (vk.com)\nЕсли вы не планируете поддерживать какую-то из перечисленных платформ, оставьте соответствующее поле пустым.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Настройки.\nНастройки\nID приложения\nИдентификатор — число, которое получило ваше мини-приложение, например 8062090.\nЗащищённый ключ\nКлюч доступа, который используется для настройки библиотек на клиентах.\nСервисный ключ доступа\nКлюч доступа, идентифицирующий мини-приложение. Все запросы к API, выполненные с сервисным ключом доступа, совершаются от имени вашего мини-приложения.\nСервисный ключ доступа можно использовать только для запросов с бэкенда мини-приложения. Не передавайте и не храните сервисный ключ мини-приложения на клиенте! Подробнее о ключах доступа.\nСостояние\nМини-приложение можно включать или отключать в процессе разработки:\n• Приложение отключено — не видно никому, кроме администратора мини-приложения. Значение по умолчанию. • Приложение включено и видно всем — ваше мини-приложение готово, и вы хотите, чтобы другие пользователи могли его запускать.\nПеред отправкой мини-приложения на модерацию включите его.\nЗагрузка архива для ODR\nДля организации ресурсов используется технология ODR, которую должны применять все приложения, представленные в App Store и содержащие встроенные сервисы. Более подробное описание есть в разделе Работа с ресурсами для iOS.\nВерсия для мобильных клиентов\nЧтобы мини-приложение работало в мобильном приложении ВКонтакте:\nВпишите адрес ссылки на мини-приложение в блок Версия для мобильных клиентов. Нажмите кнопку Сохранить. Мини-приложения доступны пользователям в официальных клиентах, начиная с версии не ниже 6 для Android и 10 для iOS.\nРежим разработки (версия для мобильных клиентов)\nВ режиме разработки доступен URL для разработки — адрес ссылки, по которому доступно мини-приложение. Адрес ссылки открывается у администраторов и тестировщиков мини-приложения.\nЕсли включён режим разработки у мобильных клиентов и в списках тестирования указан ODR, то тестировщики увидят именно iOS-версию.\nВерсия для vk.com\nЧтобы мини-приложение можно было запустить, когда ВКонтакте открыт в десктопном браузере:\nВпишите адрес ссылки на мини-приложение в блок Версия для vk.com. Нажмите кнопку Сохранить. Режим разработки (версия для vk.com)\nВ режиме разработки доступен URL для разработки — адрес ссылки, по которому доступно мини-приложение. Адрес ссылки открывается у администраторов и тестировщиков мини-приложения.\nВерсия для m.vk.com\nЧтобы мини-приложение работало в мобильной версии сайта (m.vk.com):\nВпишите адрес ссылки на мини-приложение в блок Версия для m.vk.com. Нажмите кнопку Сохранить. Режим разработки (версия для m.vk.com)\nВ режиме разработки доступен URL для разработки — адрес ссылки, по которому доступно мини-приложение. Адрес ссылки открывается у администраторов и тестировщиков мини-приложения.\nУдаление приложения\nЕсли удалить мини-приложение, оно исчезнет из списка Мои приложения и его больше нельзя будет запустить.\nЧтобы удалить мини-приложение:\nНажмите кнопку Удалить приложение. Нажмите кнопку Удалить во всплывающем окне. "},{"id":4,"href":"/docs/posts/","title":"Обзор","section":"My First Post","content":"\rОбзор\r#\rЧтобы управлять своим мини-приложением, перейдите по ссылке Мои приложения и нажмите Редактировать напротив его названия. В левом меню вы увидите следующие разделы:\n• Информация\n• Настройки\n• Хранимые процедуры\n• Статистика\n• Платежи\n• Руководство\n• Тестирование\n• Модерация\n• Уведомления (только в мини-приложениях из каталога)\n• Помощь\n"},{"id":5,"href":"/docs/posts/overview/","title":"Обзор","section":"Обзор","content":"\rОбзор\r#\rЧтобы управлять своим мини-приложением, перейдите по ссылке Мои приложения и нажмите Редактировать напротив его названия. В левом меню вы увидите следующие разделы:\n• Информация\n• Настройки\n• Хранимые процедуры\n• Статистика\n• Платежи\n• Руководство\n• Тестирование\n• Модерация\n• Уведомления (только в мини-приложениях из каталога)\n• Помощь\n"},{"id":6,"href":"/docs/1/getting-started/getting-started/","title":"Первые шаги","section":"My First Post","content":"\rПервые шаги\r#\rVK Mini Apps — это открытая платформа встраиваемых кросс-платформенных приложений, которые расширяют возможности сайта и приложения ВКонтакте. По этой инструкции вы можете создать своё первое мини-приложение.\nКраткая инструкция для опытных пользователей. Видеоуроки и другие полезные материалы.\nКак создать первое мини-приложение\nЧтобы познакомиться с платформой и опубликовать первое мини-приложение, вам потребуется:\nЗарегистрировать мини-приложение ВКонтакте. Собрать мини-приложение. Запустить мини-приложение локально и убедиться, что оно работает. Запустить мини-приложение внутри ВКонтакте. Разместить мини-приложение на хостинге. Инструкция ниже актуальна для любой операционной системы. Для первых шагов знание языка JavaScript не понадобится, но вы должны уметь работать с командной строкой.\nЧтобы использовать библиотеки мини-приложений, установите необходимое программное обеспечение.\nРегистрация мини-приложения ВКонтакте\nЧтобы зарегистрировать мини-приложение ВКонтакте:\nВойдите во ВКонтакте под своей учётной записью.\nЧтобы пройти аутентификацию ВКонтакте, вам потребуется мобильное приложение для получения кода подтверждения.\nОткройте страницу Мои приложения и нажмите на кнопку Создать. Откроется форма Создание приложения.\n• Укажите название приложения.\nНазвание приложения может содержать только буквы, цифры, дефисы и пробелы. Название можно изменить в Настройках. • Выберите платформу — Встраиваемое приложение.\n• Добавьте описание.\n• Выберите тип — VK Mini Apps.\nКакие ещё приложения можно создать? • Выберите категорию приложения.\nНажмите кнопку Перейти к настройке приложения. Во всплывающем окне Подтверждение действия: • Нажмите кнопку Получить код. На указанный в окне телефон отправится код подтверждения в SMS или в push-уведомлении мобильного приложения ВКонтакте.\nВсе ключевые действия с мини-приложением, например создание или удаление, требуется подтверждать с помощью кода из SMS или push-уведомления. В рамках сессии код требуется вводить только один раз. • Введите полученный код подтверждения.\n• Нажмите кнопку Отправить код.\nНа странице Правила платформы ознакомьтесь с правилами и нажмите кнопку Я соглашаюсь с новыми правилами. Регистрация приложения завершена. Откроется страница с информацией о приложении и его настройками.\nСоздание мини-приложения\nЧтобы создать мини-приложение с минимальной функциональностью, используйте библиотеку create-vk-mini-app. Функциональность получившегося мини-приложения: отображение двух экранов с простой навигацией и кнопкой, которая показывает стикер. Также к проекту уже подключены все необходимые npm-библиотеки и поддержано несколько систем публикации.\nЧтобы создать мини-приложение, вам потребуются:\n• Платформа Node.js.\n• Терминал. Можно использовать редактор кода, в котором есть командная строка. Пример: VS Code.\nПерейдите в папку, в которой хотите создать проект своего мини-приложения:\ncd \u0026lt;ПУТЬ_К_ПАПКЕ\u0026gt;\nВыполните команду, которая создаст проект c именем \u0026lt;MINI_APP_NAME\u0026gt; в вашей папке:\nnpx @vkontakte/create-vk-mini-app \u0026lt;MINI_APP_NAME\u0026gt;\nЕсли не указать название проекта вместо \u0026lt;MINI_APP_NAME\u0026gt;, по умолчанию создастся проект mini-app.\nПолучаю ошибку на Windows 10 Pro. Что делать?\nВ терминале подтвердите скачивание библиотеки @vkontakte/create-vk-mini-app: введите Y/y или нажмите Enter.\nСтруктура файлов папки проекта после его создания:\n. └── mini-app ├── node_modules ├── public ├── src ├── package-lock.json ├── package.json ├── README.md └── vk-hosting-config.json\nПроект мини-приложения создан.\nДля корректной работы необходима библиотека VK Bridge и вызов события инициализации VKWebAppInit в начале кода мини-приложения. Если не вызвать событие, мини-приложение не будет работать.\nЗапуск мини-приложения локально\nЗапуск мини-приложения локально потребуется для последующего запуска мини-приложения внутри ВКонтакте.\nПерейдите в папку проекта мини-приложения:\ncd \u0026lt;MINI_APP_NAME\u0026gt;\nЗапустите мини-приложение:\nnpm start\nСогласитесь на настройки по умолчанию: введите Y/y или нажмите Enter.\nЕсли всё в порядке, вы получите сообщение:\nCompiled successfully! \u0026hellip; Local: https://localhost:10888 On Your Network: https://192.168.1.3:10888\nНа этом этапе мини-приложение представляет собой веб-сервер, работающий на вашем локальном компьютере. Чтобы в этом убедиться, откройте в браузере ссылку: https://localhost:10888.\nЗапуск мини-приложения внутри ВКонтакте\nЧтобы увидеть результат работы мини-приложения, запустите его на своём компьютере и получите ссылку на него. Мы создали библиотеку VK Tunnel, которая берёт на себя все настройки и позволяет отобразить результат работы вашего мини-приложения в интернете.\nОткройте новое окно терминала и перейдите в папку проекта мини-приложения:\ncd \u0026lt;ПУТЬ_К_ПАПКЕ_MINI_APP_NAME\u0026gt;\nУстановите VK Tunnel:\nnpm install @vkontakte/vk-tunnel \u0026ndash;include=dev\nДобавьте в файл package.json скрипт tunnel. Сохраните файл:\n\u0026ldquo;scripts\u0026rdquo;: { \u0026hellip; \u0026ldquo;tunnel\u0026rdquo;: \u0026ldquo;vk-tunnel \u0026ndash;insecure=1 \u0026ndash;http-protocol=https \u0026ndash;ws-protocol=wss \u0026ndash;host=0.0.0.0 \u0026ndash;port=10888\u0026rdquo; }\nЗапустите VK Tunnel:\nnpm run tunnel\n• Получаю ошибку sh: 1: vk-tunnel: Permission denied. Что делать?\n• Получаю ошибку Error: Пользователь не является создателем приложения. Что делать?\n• Получаю ошибку Error: connect ECONNREFUSED 127.0.0.1:10888. Что делать?\nВ командной строке вы получите ссылку вида: https://oauth.vk.com/code_auth?stage=check\u0026code=cabbedd. Откройте её в браузере, чтобы пройти аутентификацию.\nВернитесь в терминал и подтвердите действие в командной строке: введите Y/y или нажмите Enter.\nЕсли всё в порядке и VK Tunnel запущен, вы получите сообщение со ссылкой на мини-приложение:\nopen: https://user743784474-nm77vxr2.wormhole.vk-apps.com/ VK Tunnel отобразил в интернете веб-сервер, работающий на вашем локальном компьютере. После этого можно запустить мини-приложение внутри ВКонтакте.\nВключите режим разработки и укажите полученную на предыдущем шаге ссылку (https://user743784474-nm77vxr2.wormhole.vk-apps.com/) в поле URL для разработки. То же самое можно сделать для мобильной версии браузера или мобильного приложения.\nОткройте в браузере ссылку вида vk.com/app, где — это идентификатор вашего мини-приложения.\nВы запустили своё первое мини-приложение внутри ВКонтакте. Заметьте, что мини-приложение будет работать, только пока оно и VK Tunnel запущены на вашем локальном компьютере. Чтобы мини-приложение работало автономно, вам потребуется разместить его на хостинге.\nЕсли в браузере отображается ошибка Bad gateway, проверьте, что мини-приложение запущено, а если ошибка Error 1, — проверьте VK Tunnel.\nКак поделиться мини-приложением с друзьями?\nВ конечном итоге вы получили ссылку на мини-приложение внутри ВКонтакте: vk.com/app51405499.\nРазмещение мини-приложения на хостинге\nНа предыдущем шаге вы запустили мини-приложение на своём локальном компьютере и получили ссылку на него внутри ВКонтакте. Но как только вы закроете окно терминала, мини-приложение прекратит работу.\nЧтобы мини-приложение работало автономно, разместите его на хостинге. Мы создали библиотеку vk-miniapps-deploy, чтобы вы могли воспользоваться нашим хостингом. Также вы можете разместить мини-приложение в облаке VK Cloud.\nПерейдите в каталог проекта:\ncd \u0026lt;MINI_APP_NAME\u0026gt;\nУстановите библиотеку vk-miniapps-deploy:\nnpm install @vkontakte/vk-miniapps-deploy \u0026ndash;include=dev\nОткройте файл vk-hosting-config.json в каталоге проекта. В поле app_id замените 0 на идентификатор вашего мини-приложения, который вы получили при регистрации. Сохраните изменения.\n{ \u0026ldquo;static_path\u0026rdquo;: \u0026ldquo;build\u0026rdquo;, \u0026ldquo;app_id\u0026rdquo;: 51405499, \u0026ldquo;endpoints\u0026rdquo;: { \u0026ldquo;mobile\u0026rdquo;: \u0026ldquo;index.html\u0026rdquo;, \u0026ldquo;mvk\u0026rdquo;: \u0026ldquo;index.html\u0026rdquo;, \u0026ldquo;web\u0026rdquo;: \u0026ldquo;index.html\u0026rdquo; } }\nРазверните мини-приложение:\nnpm run deploy\nПеред деплоем автоматически выполнится команда npm run build, соберётся проект, а в каталоге проекта появится файл build.zip и каталог build.\nСогласитесь на настройки по умолчанию: введите Y/y или нажмите Enter.\nВ командной строке вы получите ссылку вида: https://oauth.vk.com/code_auth?stage=check\u0026code=1c2d2bd. Откройте её в браузере, чтобы пройти аутентификацию.\nВернитесь в терминал и подтвердите действие в командной строке: введите Y/y или нажмите Enter.\nПодтвердите размещение мини-приложения на хостинге: введите код из личных сообщений от Администрации ВКонтакте. Также в push-уведомлении нужно подтвердить автоматическое изменение URL вашего мини-приложения.\nЕсли мини-приложение не размещается, проверьте, что в поле app_id указан корректный идентификатор вашего мини-приложения.\nПерейдите по ссылке vk.com/app, чтобы увидеть работу мини-приложения. Мини-приложение размещено на хостинге ВКонтакте, а ссылка вида: https://prod-app1-1.pages-ac.vk-apps.com/index.html появилась в поле URL в разделе Настройки.\nКак поделиться мини-приложением с друзьями?\nВаше первое мини-приложение готово к использованию и дальнейшей разработке. Вы можете почитать документацию о функциональности мини-приложений в разделе Что дальше. А теперь коротко.\nКраткая инструкция\nЗарегистрируйте мини-приложение и получите его идентификатор.\nПерейдите в папку, в которой хотите создать проект мини-приложения:\ncd \u0026lt;ПУТЬ_К_ПАПКЕ\u0026gt;\nСоздайте проект:\nnpx @vkontakte/create-vk-mini-app\nПерейдите в папку с проектом:\ncd mini-app\nВ файле vk-hosting-config.json в поле app_id замените 0 на идентификатор мини-приложения.\nУстановите библиотеку vk-miniapps-deploy:\nnpm install @vkontakte/vk-miniapps-deploy \u0026ndash;include=dev\nРазверните мини-приложение:\nnpm run deploy\nОткройте ссылку vk.com/app.\nЧто дальше\nИнструкции\n• Если вам необходимо больше информации про первые шаги, посмотрите видеоурок: Часть 1. Первые шаги.\n• Если вы готовы разрабатывать собственное приложение, посмотрите видеоурок: Часть 2. Лайвкодинг.\n• Если вы ещё не работали с React, рекомендуем почитать официальное руководство.\n• Если вы уже начали разработку, ознакомьтесь со списком рекомендаций для тех мини-приложений, которые мы размещаем в каталогах.\nБиблиотеки\n• Библиотека VK Bridge необходима для взаимодействия с приложением ВКонтакте.\n• Библиотека VKUI позволяет использовать компоненты интерфейса.\n• Библиотека VK Icons содержит SVG-иконки на все случаи жизни.\nВажно! Библиотеку VK Bridge необходимо использовать при разработке любого мини-приложения. Остальные библиотеки — не обязательно.\nFAQ\nНе удалось выполнить инструкцию, получаю ошибки. Что делать?\nУбедитесь, что вы:\n• установили необходимое программное обеспечение;\n• используете Node.js 16.x.x.\nЕсли всё равно возникают ошибки, поищите ответ в сообществе VK Mini Apps.\nПосле выполнения команды создания проекта мини-приложения на Windows 10 Pro получаю ошибку. Что делать?\nЕсли вы используете операционную систему Windows 10 Pro и после выполнения команды npx @vkontakte/create-vk-mini-app \u0026lt;MINI_APP_NAME\u0026gt; вы получили ошибку:\nПерейдите в созданную папку проекта мини-приложения:\ncd \u0026lt;ПУТЬ_К_ПАПКЕ_MINI_APP_NAME\u0026gt;\nУстановите зависимости Node.js:\nnpm install\nУстановите модули из файла package-lock.json:\nnpm ci\nПосле того как вы выполните эти команды, вы сможете продолжить выполнять инструкцию.\nПолучаю ошибку sh: 1: vk-tunnel: Permission denied. Что делать?\nЕсли вы выполнили команду npm run tunnel на Linux и видите ошибку доступа, выдайте права на выполнение исполняемому файлу библиотеки:\nchmod +x \u0026lt;ПОЛНЫЙ_ПУТЬ_ДО_ПРОЕКТА_МИНИ_ПРИЛОЖЕНИЯ\u0026gt;/node_modules/@vkontakte/vk-tunnel/bin/vk-tunnel\nПолучаю ошибку Error: 5: User authorization failed: invalid session. Что делать?\nЕсли вы выполнили команду npm run deploy и видите ошибку авторизации, обновите токен библиотеки:\nrm ~/.config/configstore/@vkontakte/vk-miniapps-deploy.json\nПолучаю ошибку Error: Пользователь не является создателем приложения. Что делать?\nЕсли вы выполнили команду npm run tunnel и видите ошибку ERROR: Пользователь не является создателем приложения, обновите токен утилиты:\nrm ~/.config/configstore/@vkontakte/vk-tunnel.json\nОбратите внимание! Если ошибка сохраняется, убедитесь, что вас добавили в администраторы мини-приложения.\nПолучаю ошибку Error: connect ECONNREFUSED 127.0.0.1:10888. Что делать?\nУбедитесь, что вы запустили проект:\nnpm start\nКакие ещё приложения можно создать?\nПопробуйте зарегистрировать:\n• Встраиваемое приложение — вы получите идентификатор мини-приложения, которое можно встроить во фрейм с внешнего сайта. Готовые мини-приложения можно увидеть в наших каталогах: Мини-приложения, Игры.\n• Standalone-приложение — вы получите идентификатор API_ID для внешнего сайта, мобильного или десктопного клиента. В интерфейсе такого приложения можно настроить SDK и подключить сертификаты для push-уведомлений.\n• Сайт — вы получите идентификатор API_ID для внешнего сайта и работы с API через сервер. Если вы хотите написать скрипт (например, на PHP), который будет обращаться к API ВКонтакте, выберите именно этот вариант.\n• Скилл Маруси — вы получите идентификатор приложения (скилла), которое взаимодействует с голосовым помощником и расширяет его базу навыков.\nКак подключить стили CSS в мини-приложении?\nПодключите стили в файле index.js:\nimport \u0026lsquo;./style.css\u0026rsquo;;\nЕсли стили подключены неправильно, в мини-приложении отобразится пустая страница.\nКак поделиться мини-приложением с друзьями?\nПо умолчанию мини-приложение видно только его создателю по ссылке vk.com/app.\nЧтобы открыть мини-приложение всем, зайдите в Настройки. Измените Состояние мини-приложения на Приложение включено и видно всем.\nЧтобы открыть мини-приложение конкретному пользователю, создайте группу тестировщиков в разделе Тестирование.\nВнешний вид настроек изменения видимости мини-приложения Изменение видимости мини-приложения Внешний вид окна Создание группы тестировщиков Создание группы тестировщиков\nУ меня есть постоянная ссылка на мини-приложение, но я хочу продолжить его разрабатывать. Как это сделать?\nЧтобы продолжить разработку мини-приложения и иметь ссылку на него, переключитесь в режим разработки и запустите VK Tunnel.\nЗапустить мини-приложение внутри ВКонтакте.\nКак сделать работу мини-приложения корректной на обоих доменах ВКонтакте — vk.com и vk.ru?\nПоскольку некоторые разработчики валидируют входящие запросы и указывают в конфигурации мини-приложения адреса надёжных сайтов, не забудьте добавить домен vk.ru в white list. Это нужно, чтобы ваше мини-приложение работало корректно у пользователей, которые запустили его на домене vk.ru.\nЕсли в своих мини-приложениях при отправке ответов с сервера вы используете заголовок X-Frame-Options, то рекомендуем внести правки, чтобы поддержать новые значения — vk.ru и m.vk.ru.\nУ меня возникли проблемы при разработке мини-приложения в режиме инкогнито\nИз-за политик безопасности некоторые браузеры блокируют куки и localStorage в режиме инкогнито. Поэтому некоторые мини-приложения падают при обращении к localStorage через JavaScript. Используйте следующие методы VK Bridge вместо сохранения данных в localStorage:\n• VKWebAppStorageSet\n• VKWebAppStorageGetKeys\n• VKWebAppStorageGet\n"},{"id":7,"href":"/docs/posts/payments/payments/","title":"Платежи","section":"Обзор","content":"\rПлатежи\r#\rВ мини-приложениях разрешена оплата виртуальных ценностей голосами. Для интеграции продажи виртуальных ценностей используются платежи голосами ВКонтакте.\nЧтобы использовать голоса в мини-приложении, оно должно пройти модерацию. Вывести полученные в мини-приложении голоса может только главный администратор.\nОбратите внимание, пока мини-приложение не прошло модерацию, в нём доступны только тестовые платежи. Продажа виртуальных ценностей, а значит, и оплата голосами запрещена в приложении ВКонтакте для iOS.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Платежи.\nПлатежи\nВерсия API\nВерсия API, которая используется для платежей.\nАдрес обратного вызова\nURL вашего сервера, где размещён скрипт обработки уведомлений.\nТестировщики платежей\nПользователи, которые будут тестировать платёжную систему (с них не списываются голоса).\nЧтобы добавить нескольких тестировщиков платежей:\n• Если пользователь у вас в друзьях, выберите его из списка. • Если пользователь не является вашим другом, введите в поле адрес ссылки на его страницу и нажмите Enter.\nПлатёжная статистика\nБлок показывает следующие характеристики:\n• количество голосов, потраченное пользователями на приложение, а также выручка от интеграций и рекламных акций;\n• количество платящих пользователей;\n• среднюю выручку: • ARPU — средняя выручка на одного пользователя; • ARPPU — средняя выручка на одного платящего пользователя.\nИстория платежей\nБлок доступен только мини-приложениям, у которых подключена оплата. У мини-приложений без подключённой оплаты блок полностью скрыт и функциональность недоступна.\nБлок показывает транзакции, совершённые пользователями мини-приложения в его пользу.\nИстория транзакций\nБлок доступен только мини-приложениям, у которых подключена оплата. У мини-приложений без подключённой оплаты блок полностью скрыт и функциональность недоступна.\nБлок показывает историю вывода заработка администраторами мини-приложения на свой счёт.\n"},{"id":8,"href":"/docs/posts/help/help/","title":"Помощь","section":"Обзор","content":"\rПомощь\r#\rВ подразделе Помощь собраны ответы на популярные вопросы.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Помощь.\nЧтобы написать в техническую поддержку:\nВведите вопрос или ключевое слово в поисковую строку. Нажмите кнопку Ни один из вариантов не подходит. Добавьте подробное описание. Нажмите кнопку Отправить. Ответы на вопросы будут появляться на вкладке Все вопросы.\n"},{"id":9,"href":"/docs/posts/admin/admin/","title":"Руководство","section":"Обзор","content":"\rРуководство\r#\rВ разделе Руководство можно управлять администраторами мини-приложения. Главным администратором является создатель мини-приложения. Остальные администраторы могут быть двух типов: с полным или частичным доступом. Общие права для главного администратора и администраторов мини-приложения с полным доступом:\n• редактирование приложения,\n• загрузка ODR-архива мини-приложения,\n• тестирование приложения,\n• управление рекламой приложения,\n• просмотр статистики посещаемости,\n• добавление администратора,\n• изменение прав администратора,\n• удаление администратора.\nАдминистраторы с частичным доступом имеют только некоторые права из указанных выше. В любой момент главный администратор может добавить, удалить администратора или изменить его права.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Руководство.\nДобавление администратора\nНажмите кнопку Добавить администратора. Укажите ссылку на страницу пользователя. Подходит как обычная ссылка https://vk.com/id1, так и короткий адрес, например https://vk.com/name. Выберите Полный доступ или Частичный доступ. Для частичного доступа выберите права: • Редактирование приложения.\n• Тестирование приложения.\n• Просмотр статистики посещаемости.\nНажмите на кнопку Добавить администратора.\nПодтвердите действие с помощью устройства, привязанного к вашему профилю.\nПосле этого новый администратор появится в списке руководителей мини-приложения и получит push-сообщение с приглашением стать администратором. Обратите внимание, что пользователь станет администратором, только после того как примет приглашение.\nЕсли вы видите кнопку Сохранить изменения вместо Добавить администратора, это означает, что выбранный пользователь уже является администратором мини-приложения.\nРедактирование прав администратора\nНажмите кнопку Редактировать справа от имени администратора. Выберите Полный доступ или Частичный доступ. Для частичного доступа выберите права: • Редактирование приложения.\n• Тестирование приложения.\n• Просмотр статистики посещаемости.\nНажмите кнопку Сохранить изменения. Удаление администратора\nНажмите кнопку Разжаловать справа от имени администратора. Нажмите кнопку Удалить во всплывающем окне. Передача прав главного администратора\nНажмите кнопку Изменить справа от имени главного администратора. Нажмите кнопку Назначить главным администратором справа от имени администратора. Нажмите кнопку Я осознаю риск, передать во всплывающем окне. Подтвердите действие с помощью устройства, привязанного к вашему профилю. Главный администратор может быть только один. Пользователь, который был главным администратором, после назначения нового автоматически получит права администратора мини-приложения с полным доступом.\n"},{"id":10,"href":"/docs/posts/statistics/statistics/","title":"Статистика","section":"Обзор","content":"\rСтатистика\r#\rВ разделе можно посмотреть статистику посещаемости и вызовов методов API.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Статистика.\nПосещаемость\nНа вкладке Посещаемость графики показывают статистику посещений пользователей по следующим параметрам:\n• количество уникальных посетителей и просмотров\n• процент мужчин и женщин в разных возрастных категориях\n• география посетителей\nУникальные посетители и просмотры\nБлок показывает следующие характеристики за последние 30 дней:\n• среднее суточное количество уникальных посетителей,\n• общее количество уникальных посетителей.\nКоличество уникальных посетителей и просмотров можно посмотреть по дням и месяцам.\nПол / Возраст\nСпособы отображения статистики: диаграмма и график.\nПроцент мужчин и женщин можно посмотреть за последнюю неделю и месяц.\nГеография\nБлок показывает страны и города, в которых пользуются мини-приложением. Процент пользователей из разных стран и городов можно посмотреть за всё время или за последние сутки, неделю, месяц.\nСпособы отображения статистики: диаграмма и график.\nЗапросы к API\nНа вкладке будет отображаться статистика использования методов API ВКонтакте. Этот раздел сейчас в разработке.\n"},{"id":11,"href":"/docs/1/badge-counter/badge-counter/","title":"Счётчик в каталоге мини-приложений","section":"My First Post","content":"\rСчётчик в каталоге мини-приложений\r#\rБейдж с количеством уведомлений в мини-приложении\nРазработчик может добавить бейдж с количеством уведомлений (счётчик уведомлений) на квадратную обложку и квадратную обложку для каталога мини-приложения.\nПример: число непрочитанных сообщений в игре. Если событий больше 99, то счётчик будет показывать 99+.\nСчётчик можно подключить программно к мини-приложению, которое пользователь:\n• запускал из каталога более 3 раз за любой срок;\n• добавил в избранные вне зависимости от нахождения мини-приложения в каталоге.\nОбратите внимание, что счётчик сам по себе не подсчитывает уведомления, но даёт возможность отобразить число, которое разработчик должен рассчитать самостоятельно.\nКак подключить счётчик уведомлений\nЧтобы счётчик показал количество уведомлений в мини-приложении, нужно вызвать метод secure.setCounter с сервисным ключом доступа. В запросе укажите идентификатор пользователя и значение счётчика.\nНапример, чтобы показать количество новых сообщений в мини-приложении, нужно отправить следующий запрос.\nPOST https://api.vk.com/method/secure.setCounter?user_id=\u0026lt;ИДЕНТИФИКАТОР_ПОЛЬЗОВАТЕЛЯ\u0026gt;\u0026amp;counter=\u0026lt;ЗНАЧЕНИЕ_СЧЁТЧИКА\u0026gt;\u0026amp;v=\u0026lt;ВЕРСИЯ_API\u0026gt;\u0026amp;access_token=\u0026lt;КЛЮЧ_ДОСТУПА\u0026gt; HTTP/1.1\nПараметры запроса:\n• user_id — идентификатор пользователя, который увидит счётчик уведомлений;\n• counter — значение счётчика (количество новых сообщений);\n• v — версия API;\n• access_token — сервисный ключ доступа мини-приложения.\nОбратите внимание! Не вызывайте метод в клиентской части мини-приложения — вы можете открыть ваш сервисный ключ доступа злоумышленникам.\nКак отключить счётчик уведомлений\nПользователь может в любой момент отключить счётчик уведомлений в настройках мини-приложения. Чтобы отключить уведомления для конкретного мини-приложения, нужно:\nОткрыть vk.com или мобильное приложение ВКонтакте. Перейти в раздел Сервисы. Нажать на мини-приложение. Нажать кнопку •••. Нажать кнопку Выключить счетчик уведомлений. "},{"id":12,"href":"/docs/posts/notifications/notifications/","title":"Уведомления","section":"Обзор","content":"\rУведомления\r#\rВажно! Уведомления доступны только мини-приложениям из каталога. У мини-приложений вне каталога раздел полностью скрыт и функциональность недоступна.\nЕсли ваше приложение уже находится в каталоге, вы можете настроить автоматическую отправку уведомлений его пользователям при наступлении определённых событий. Пользователь получит push-уведомление и оповещение в колокольчик от мини-приложения, как только будет онлайн.\nУведомления бывают:\n• Разовые.\n• Автоматические — привязанные к дням неактивности пользователей.\n• Массовые — рассылки активным пользователям при наступлении какого-то события.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Уведомления.\nСовет. Чтобы создать качественные уведомления, изучите следующие разделы:\n• Критерии модерации\n• Советы модератора\nРазрешение уведомлений\nОтправка уведомлений мини-приложением возможна только после разрешения пользователя.\nЧтобы включить уведомления в мобильном приложении:\nПерейдите в раздел Сервисы. Откройте мини-приложение и нажмите кнопку •••. Нажмите кнопку Включить уведомления. Автоматические уведомления\nВы можете настроить автоматическую отправку уведомлений пользователям, если они не запускали ваше мини-приложение в течение 1, 7 или 30 дней.\nКак включить\nВ блоке Автоматические уведомления нажмите Подробнее напротив подходящего события.\nВведите текст сообщения, которое увидят пользователи в уведомлении.\nНажмите кнопку Отправить сообщение себе, чтобы посмотреть, как уведомление будет выглядеть у пользователя.\nНажмите кнопку Отправить на модерацию.\nУстановите переключатель в активное положение.\nКак только вашу заявку одобрит модерация, вы получите сообщение в разделе Помощь, и начнётся рассылка уведомлений.\nЛимиты\nПользователь получит не более 1 уведомления раз в два дня, не более 2 уведомлений в неделю, не более 4 уведомлений в месяц.\nМассовые рассылки\nЧтобы привлечь активных пользователей к какому-либо событию в мини-приложении, запустите массовую рассылку уведомлений.\nКак включить\nВ блоке Массовые рассылки нажмите кнопку Создать рассылку.\nВведите название рассылки и нажмите Добавить.\nУкажите период, в который будет работать рассылка: даты и время.\nВведите текст сообщения, которое увидят пользователи в уведомлении.\nНажмите Отправить сообщение себе, чтобы посмотреть, как уведомление будет выглядеть у пользователя.\nНажмите Отправить на модерацию.\nУстановите переключатель в активное положение.\nКак только вашу заявку одобрит модерация, вы получите сообщение в разделе Помощь, и начнётся рассылка уведомлений.\nЛимиты\nМассовые уведомления рассылаются не чаще одного раза в 3 месяца.\nОтключение уведомлений\nЧтобы отключить уведомления в мобильном приложении:\nПерейдите в раздел Сервисы. Откройте мини-приложение и нажмите кнопку •••. Нажмите кнопку Отключить уведомления. "},{"id":13,"href":"/docs/posts/procedures/procedures/","title":"Хранимые процедуры","section":"Обзор","content":"\rХранимые процедуры\r#\rХранимые процедуры позволяют исполнять код на стороне сервера API без передачи кода процедуры по сети. Используйте хранимые процедуры в мини-приложениях для мобильных платформ, чтобы экономить трафик. Вы также можете передавать любые значения из мини-приложения в хранимую процедуру, чтобы добиться желаемой логики.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Хранимые процедуры.\nДобавление хранимой процедуры\nВнешний вид хранимой процедуры Добавление хранимой процедуры\nНажмите на кнопку Добавить новую процедуру. Укажите название процедуры. Выберите версию API. Добавьте код процедуры и нажмите кнопку Сохранить. Код хранимой процедуры\nПроцедуры нужно писать на языке программирования VKScript. Подробная информация о синтаксисе и возможностях этого языка с примерами находится в описании метода execute.\nВызов хранимой процедуры из мини-приложения\nПереданные параметры будут доступны внутри кода процедуры в виде полей объекта Args. Например, если вы передали параметр user, то значение этого параметра будет доступно в поле Args.user.\nVK Bridge\nХранимую процедуру можно вызвать с помощью события VKWebAppCallAPIMethod.\nJavaScript bridge.send(\u0026ldquo;VKWebAppCallAPIMethod\u0026rdquo;, { method: \u0026ldquo;execute.ИМЯ_ПРОЦЕДУРЫ\u0026rdquo;, params: { НАЗВАНИЕ_ПАРАМЕТРА1: \u0026ldquo;ЗНАЧЕНИЕ_ПАРАМЕТРА1\u0026rdquo;, НАЗВАНИЕ_ПАРАМЕТРА2: \u0026ldquo;ЗНАЧЕНИЕ_ПАРАМЕТРА2\u0026rdquo;, v: \u0026ldquo;ВЕРСИЯ_API\u0026rdquo;, func_v: \u0026ldquo;ВЕРСИЯ_ПРОЦЕДУРЫ\u0026rdquo;, access_token: \u0026ldquo;КЛЮЧ_ДОСТУПА\u0026rdquo; } });\nPOST-запрос\nХранимую процедуру можно вызвать с помощью метода execute. Для этого отправьте POST-запрос как в примере ниже.\nPOST https://api.vk.com/method/execute.ИМЯ_ПРОЦЕДУРЫ?access_token=КЛЮЧ_ДОСТУПА\u0026amp;v=ВЕРСИЯ_API\u0026amp;func_v=ВЕРСИЯ_ПРОЦЕДУРЫ\u0026amp;НАЗВАНИЕ_ПАРАМЕТРА1=ЗНАЧЕНИЕ_ПАРАМЕТРА1\u0026amp;НАЗВАНИЕ_ПАРАМЕТРА2=ЗНАЧЕНИЕ_ПАРАМЕТРА2 HTTP/1.1\nДобавление версии хранимой процедуры\nМожно добавить только две версии процедуры. Удалить версию можно лишь через удаление процедуры целиком.\nНажмите на значок + справа от названия процедуры. Выберите версию процедуры. Выберите версию API. Нажмите кнопку Сохранить. Удаление хранимой процедуры\nУдаление процедуры — это необратимая операция.\nЧтобы удалить процедуру:\nНажмите кнопку Удалить. Нажмите кнопку Удалить во всплывающем окне. Важно! После удаления процедура исчезнет из списка и её нельзя будет восстановить.\n"},{"id":14,"href":"/docs/1/","title":"First Post","section":"My First Post","content":"hjghghhfg\n"},{"id":15,"href":"/docs/2/","title":"Second Post","section":"My First Post","content":"Qummm\n"},{"id":16,"href":"/docs/posts/testing/testing/","title":"Тестирование","section":"Обзор","content":"\rТестирование\r#\rЧтобы протестировать конкретную версию мини-приложения, необходимо указать для неё URL и пользователей, которые смогут видеть мини-приложение по этому URL. При этом пользователь не обязательно должен быть администратором.\nЧтобы перейти в раздел, откройте Мои приложения → Редактировать → Тестирование.\nЧтобы управлять группами тестировщиков программно, используйте раздел Тестирование через VK Bridge.\nСоздание группы тестировщиков\nСоздать группу тестировщиков может главный администратор или администратор мини-приложения с полным доступом.\nНажмите на кнопку Создать группу. Введите название группы. Выберите платформу: • Android и iOS,\n• vk.com,\n• m.vk.com.\nУкажите URL, по которому открывается ваше мини-приложение. Это может быть: • Адрес мини-приложения, полученный с помощью VK Tunnel.\n• Адрес мини-приложения на хостинге ВКонтакте или любом другом хостинге. Конкретная версия мини-приложения доступна только тем пользователям, которые входят в её группу тестировщиков.\nВыберите пользователей, которые смогут тестировать мини-приложение. Пользователь может не быть администратором мини-приложения. Нажмите кнопку Создать группу. • Конкретная версия мини-приложения доступна только тем пользователям, которые входят в её группу тестировщиков.\n• Максимальное количество групп — 25.\n• Максимальный размер одной группы — 1000 пользователей.\n• Пользователь может быть участником только одной группы.\nРедактирование группы тестировщиков\nНаведите курсор на блок группы тестировщиков и нажмите кнопку Редактировать. Введите название группы. Выберите платформу: • Android и iOS,\n• vk.com,\n• m.vk.com.\nУкажите URL, по которому открывается ваше мини-приложение. В качестве URL можно указать: • Адрес мини-приложения, полученный с помощью VK Tunnel.\n• Адрес мини-приложения на хостинге ВКонтакте или любом другом хостинге.\nВыберите пользователей, которые будут тестировать мини-приложение. Пользователь может не быть администратором мини-приложения. Нажмите кнопку Готово. Удаление группы тестировщиков\nНаведите курсор на блок группы тестировщиков и нажмите кнопку Удалить. Нажмите кнопку Удалить во всплывающем окне. "}]